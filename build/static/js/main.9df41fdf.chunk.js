(this.webpackJsonpex2=this.webpackJsonpex2||[]).push([[0],{21:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),r=t(16),o=t.n(r),u=(t(21),t(7)),i=t(3),l=t(4),d=t.n(l),s="/api/persons",b=function(){return d.a.get(s).then((function(e){return e.data}))},j=function(e){return d.a.post(s,e).then((function(e){return e.data}))},h=function(e){return d.a.delete("".concat(s,"/").concat(e))},f=function(e,n){return d.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},m=t(0),O=function(e){var n=e.name,t=e.number,c=e.handleClick;return Object(m.jsxs)("div",{children:[n," ",t,Object(m.jsx)("button",{onClick:c,children:" delete"})]})},v=function(e){var n=e.message;return null===n?null:Object(m.jsx)("div",{style:{color:"red",fontStyle:"italic",fontSize:20},children:n})},g=function(e){var n=e.message;return null===n?null:Object(m.jsx)("div",{style:{color:"green",fontStyle:"italic",fontSize:20},children:n})},p=function(e){return Object(m.jsxs)("form",{onSubmit:e.addPerson,children:[Object(m.jsxs)("div",{children:["name: ",Object(m.jsx)("input",{value:e.newName,onChange:e.handleNameChange})]}),Object(m.jsxs)("div",{children:["number: ",Object(m.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]})},x=function(e){var n=e.newSearch,t=e.handleFilterChange;return Object(m.jsxs)("div",{children:["filter by name: ",Object(m.jsx)("input",{value:n,onChange:t})]})},w=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],d=o[1],s=Object(c.useState)(""),w=Object(i.a)(s,2),S=w[0],C=w[1],y=Object(c.useState)(""),k=Object(i.a)(y,2),N=k[0],F=k[1],P=Object(c.useState)(!0),T=Object(i.a)(P,2),D=T[0],z=T[1],B=Object(c.useState)(null),E=Object(i.a)(B,2),I=E[0],J=E[1],L=Object(c.useState)(null),A=Object(i.a)(L,2),M=A[0],U=A[1];Object(c.useEffect)((function(){b().then((function(e){return a(e)}))}),[]);var q=D?t:t.filter((function(e){return e.name.includes("".concat(N))}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"phonebook"}),Object(m.jsx)(x,{newSearch:N,handleFilterChange:function(e){F(e.target.value),"".concat(N.length)>0?z(!1):z(!0)}}),Object(m.jsx)(v,{message:I}),Object(m.jsx)(g,{message:M}),Object(m.jsx)("h2",{children:"add a new"}),Object(m.jsx)(p,{addPerson:function(e){e.preventDefault();var n={name:l,number:S},c=t.find((function(e){return e.name===l})),r=Object(u.a)(Object(u.a)({},c),{},{number:S});!0===t.some((function(e){return e.name===l}))?window.confirm("".concat(l," is already in the phonebook, replace the old number with a new one?"))&&(f(c.id,r).then((function(e){a(t.map((function(n){return console.log("p.id: ".concat(n.id," person.id: ").concat(c.id," person: ").concat(c," returnedPerson: ").concat(e)),n.id!==c.id?n:e})))})),U("Updated ".concat(l," phone number")),setTimeout((function(){U(null)}),3e3)):(j(n).then((function(e){return a(t.concat(e))})),U("Added ".concat(l," to the phonebook")),setTimeout((function(){U(null)}),3e3)),d(""),C("")},newName:l,newNumber:S,handleNameChange:function(e){d(e.target.value)},handleNumberChange:function(e){C(e.target.value)}}),Object(m.jsx)("h2",{children:"Numbers"}),q.map((function(e){return Object(m.jsx)(O,{name:e.name,number:e.number,handleClick:function(){return n=e.id,c=e.name,void(window.confirm("Do you want to remove ".concat(c,"?"))&&(h(n).catch((function(e){J("".concat(c," was already removed from the phonebook")),setTimeout((function(){J(null)}),3e3)})),a(t.filter((function(e){return e.id!==n})))));var n,c}},e.id)}))]})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),S()}},[[42,1,2]]]);
//# sourceMappingURL=main.9df41fdf.chunk.js.map